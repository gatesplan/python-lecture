"""
스스로 해 보기 (p184)
배열에서 3개를 선택하여 합이 3의 배수인 경우의 수 구하기

알고리즘:
- 이전 문제(최댓값 찾기)와 유사한 구조
- 최댓값 갱신 대신 경우의 수 카운트

재귀 구조:
- 깊이 3까지 도달하는 모든 경로 탐색
- 각 경로에서 합이 3의 배수면 카운트 증가
"""

A = [1, 3, 6, 7, 11, 15, 18]
ans = 0

def f(k, s, j):
    """
    재귀 함수로 조합 탐색 및 경우의 수 계산

    Parameters:
    - k: 현재 탐색 인덱스
    - s: 지금까지의 합
    - j: 지금까지 더한 숫자 개수 (최대 깊이 3)
    """
    # 종료조건: 3개를 선택했을 때
    if j == 3:
        if s % 3 == 0:
            global ans
            ans = ans + 1
        return

    # 실행부: k 이후 인덱스들을 재귀적으로 탐색
    for i in range(k+1, len(A)):
        f(i, s + A[i], j + 1)

# 시작
f(-1, 0, 0)
print(ans)

# 가능한 조합 예시:
# [1, 3, 6] → 10 (X)
# [1, 3, 11] → 15 (O, 3의 배수)
# [3, 6, 18] → 27 (O, 3의 배수)
# 등등...
